<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>6x6x6 LED Cube</title>
        <link rel="stylesheet" href="css/styles.css">
    </head>
    <body>
        <header>
            <h1>6x6x6 LED Cube Project</h1>
            <nav>
                <ul>
                    <li><a href="#overview">Overview</a></li>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#gallery">Gallery</a></li>
                    <li><a href="#about">About</a></li>
                </ul>
            </nav>
        </header>

        <main>
            <section id="overview">
                <h2>Overview</h2>
                <p>Welcome to the 6x6x6 LED Cube project page! Explore the design, features, and visual showcase of this exciting project.</p>
            </section>

            <section id="features">
                <h2>Features</h2>
                <ul>
                    <li>36 LEDs per layer</li>
                    <li>Custom animations</li>
                    <li>Modular design</li>
                </ul>
            </section>

            <section id="gallery">
                <h2>Gallery</h2>
                <p>Take a look at some images of the LED cube in action:</p>
                <div class="gallery-grid">
                    <div class="gallery-item">Image 1</div>
                    <div class="gallery-item">Image 2</div>
                    <div class="gallery-item">Image 3</div>
                </div>
            </section>

            <section id="about">
                <h2>About</h2>
                <p>This project is a demonstration of creativity and engineering. Built to showcase dynamic LED visuals, itâ€™s perfect for learning and experimentation.</p>
            </section>
        </main>

            <section id="wifi">
                <h2>Wi-Fi Credentials</h2>
                <ul id="credList"></ul>
                <form id="credForm">
                    <input type="text" name="ssid" placeholder="SSID" required>
                    <input type="password" name="password" placeholder="Password" required>
                    <button type="submit">Add</button>
                </form>
            </section>
        </main>

        <footer>
            <p>&copy; 2025 6x6x6 LED Cube Project. All rights reserved.</p>
        </footer>

        <script>
            async function loadCreds() {
                const res = await fetch('/credentials');
                const creds = await res.json();
                const list = document.getElementById('credList');
                list.innerHTML = '';
                creds.forEach(c => {
                    const li = document.createElement('li');
                    li.textContent = c.ssid + ' ';
                    const btn = document.createElement('button');
                    btn.textContent = 'Delete';
                    btn.onclick = async () => {
                        await fetch('/credentials/delete?ssid=' + encodeURIComponent(c.ssid));
                        loadCreds();
                    };
                    li.appendChild(btn);
                    list.appendChild(li);
                });
            }

            document.getElementById('credForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                const formData = new FormData(e.target);
                const params = new URLSearchParams();
                for (const [k, v] of formData.entries()) {
                    params.append(k, v);
                }
                await fetch('/credentials', {
                    method: 'POST',
                    body: params
                });
                e.target.reset();
                loadCreds();
            });

            loadCreds();
        </script>
    </body>
</html>
